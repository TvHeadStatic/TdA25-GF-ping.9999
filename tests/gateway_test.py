import sys
import requests
import unittest

class game_validation(unittest.TestCase):
    def test_get(self):
        self.assertEqual(requests.get("http://127.0.0.1:5000/api/gateway").status_code, 200)
        self.assertEqual(requests.get("http://127.0.0.1:5000/api/gateway/2e0f4b34-c5d5-4cc1-95e9-9cee7b981a44").status_code, 200)
    
    def test_post(self):
        req = {
            "name": "ah",
            "difficulty": "medium",
            "board": [
                [ "", "", "", "", "", "", "", "", "", "", "", "", "", "", "", ],
                [ "", "", "", "", "", "", "", "", "", "", "", "", "", "", "", ],
                [ "", "", "", "", "", "", "", "", "", "", "", "", "", "", "", ],
                [ "", "", "", "", "", "", "", "", "", "O", "", "", "", "", "", ],
                [ "", "", "", "", "", "", "", "", "X", "O", "", "", "", "", "", ],
                [ "", "", "", "", "", "", "", "X", "", "", "", "", "", "", "", ],
                [ "", "", "", "", "", "", "X", "", "", "", "", "", "", "", "", ],
                [ "", "", "", "", "", "", "", "", "", "", "", "", "", "", "", ],
                [ "", "", "", "", "", "", "", "", "O", "", "", "", "", "", "", ],
                [ "", "", "", "", "", "", "", "", "", "", "", "", "", "", "", ],
                [ "", "", "", "", "", "", "", "", "", "", "", "", "", "", "", ],
                [ "", "", "", "", "", "", "", "", "", "", "", "", "", "", "", ],
                [ "", "", "", "", "", "", "", "", "", "", "", "", "", "", "", ],
                [ "", "", "", "", "", "", "", "", "", "", "", "", "", "", "", ],
                [ "", "", "", "", "", "", "", "", "", "", "", "", "", "", "", ],
            ]
        }
        self.assertEqual(requests.post("http://127.0.0.1:5000/api/gateway", json=req).status_code, 201)
    def test_put(self):
        req = {
            "name": "gah",
            "difficulty": "medium",
            "board": [
                [ "", "", "", "", "", "", "", "", "", "", "", "", "", "", "", ],
                [ "", "", "", "", "", "", "", "", "", "", "", "", "", "", "", ],
                [ "", "", "", "", "", "", "", "", "", "", "", "", "", "", "", ],
                [ "", "", "", "", "", "", "", "", "", "O", "", "", "", "", "", ],
                [ "", "", "", "", "", "", "", "", "X", "O", "", "", "", "", "", ],
                [ "", "", "", "", "", "", "", "X", "", "", "", "", "", "", "", ],
                [ "", "", "", "", "", "", "X", "", "", "", "", "", "", "", "", ],
                [ "", "", "", "", "", "", "", "", "", "", "", "", "", "", "", ],
                [ "", "", "", "", "", "", "", "", "O", "", "", "", "", "", "", ],
                [ "", "", "", "", "", "", "", "", "", "", "", "", "", "", "", ],
                [ "", "", "", "", "", "", "", "", "", "", "", "", "", "", "", ],
                [ "", "", "", "", "", "", "", "", "", "", "", "", "", "", "", ],
                [ "", "", "", "", "", "", "", "", "", "", "", "", "", "", "", ],
                [ "", "", "", "", "", "", "", "", "", "", "", "", "", "", "", ],
                [ "", "", "", "", "", "", "", "", "", "", "", "", "", "", "", ],
            ]
        }
        self.assertEqual(requests.put("http://127.0.0.1:5000/api/gateway/87f97d63-dbd7-40b1-9aeb-61a88905f6cf", json=req).status_code, 200)
    
    def test_delete(self):
        self.assertEqual(requests.delete("http://127.0.0.1:5000/api/gateway/47990e7a-db89-40b9-b352-dfc2baf2d8f5").status_code, 204)

if __name__ == "__main__":
    unittest.main()