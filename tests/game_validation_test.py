import sys    

sys.path[0] = sys.path[0] + "\\..\\app"
print("In module products sys.path[0], __package__ ==", sys.path[0], __package__)

from api.api_post import validate_gamestate
import unittest

testBoard1 = [
    [ "", "", "", "", "", "", "", "", "", "", "", "", "", "", "", ],
    [ "", "", "", "", "", "", "", "", "", "", "", "", "", "", "", ],
    [ "", "", "", "", "", "", "", "", "", "", "", "", "", "", "", ],
    [ "", "", "", "", "", "", "", "", "", "O", "", "", "", "", "", ],
    [ "", "", "", "", "", "", "", "", "X", "O", "", "", "", "", "", ],
    [ "", "", "", "", "", "", "", "X", "", "", "", "", "", "", "", ],
    [ "", "", "", "", "", "", "X", "", "", "", "", "", "", "", "", ],
    [ "", "", "", "", "", "", "", "", "", "", "", "", "", "", "", ],
    [ "", "", "", "", "", "", "", "", "O", "", "", "", "", "", "", ],
    [ "", "", "", "", "", "", "", "", "", "", "", "", "", "", "", ],
    [ "", "", "", "", "", "", "", "", "", "", "", "", "", "", "", ],
    [ "", "", "", "", "", "", "", "", "", "", "", "", "", "", "", ],
    [ "", "", "", "", "", "", "", "", "", "", "", "", "", "", "", ],
    [ "", "", "", "", "", "", "", "", "", "", "", "", "", "", "", ],
    [ "", "", "", "", "", "", "", "", "", "", "", "", "", "", "", ],
]

testBoard2 = [
    [ "", "", "", "", "", "", "", "", "", "", "", "", "", "", "", ],
    [ "", "", "", "", "", "", "", "", "", "", "", "", "", "", "", ],
    [ "", "", "", "", "", "", "", "", "", "", "", "", "", "", "", ],
    [ "", "", "", "", "", "", "", "", "", "O", "", "", "", "", "", ],
    [ "", "", "", "", "", "", "", "", "X", "O", "", "", "", "", "", ],
    [ "", "", "", "", "", "", "", "X", "", "", "", "", "", "", "", ],
    [ "", "", "", "", "", "", "X", "", "", "", "", "", "", "", "", ],
    [ "", "", "", "", "", "O", "", "", "", "", "", "", "", "", "", ],
    [ "", "", "", "", "X", "", "", "", "O", "", "", "", "", "", "", ],
    [ "", "", "", "X", "", "", "", "", "", "", "", "", "", "", "", ],
    [ "", "", "X", "", "", "", "", "", "", "", "", "", "", "", "", ],
    [ "", "O", "", "", "", "", "", "", "", "", "", "", "", "", "", ],
    [ "", "", "", "", "", "", "", "", "", "", "", "", "", "", "", ],
    [ "", "", "", "", "", "", "", "", "", "", "", "", "", "", "", ],
    [ "", "", "", "", "", "", "", "", "", "", "", "", "", "", "", ],
]

testBoard3 = [
    [ "", "", "", "", "", "", "", "", "", "", "", "", "", "", "", ],
    [ "", "", "", "", "", "", "", "", "", "", "", "", "", "", "", ],
    [ "", "", "", "", "", "", "", "", "", "", "", "", "", "", "", ],
    [ "", "", "", "", "", "", "", "", "", "O", "", "", "", "", "", ],
    [ "", "", "", "", "", "", "", "", "X", "O", "", "", "", "", "", ],
    [ "", "", "", "", "", "", "", "X", "", "", "", "", "", "", "", ],
    [ "", "", "", "", "", "", "X", "", "", "", "", "", "", "", "", ],
    [ "", "", "", "", "", "", "", "", "", "", "", "", "", "", "", ],
    [ "", "", "", "", "X", "", "", "", "O", "", "", "", "", "", "", ],
    [ "", "", "", "", "", "", "", "", "", "", "", "", "", "", "", ],
    [ "", "", "", "", "", "", "", "", "", "", "", "", "", "", "", ],
    [ "", "O", "", "", "", "", "", "", "", "", "", "", "", "", "", ],
    [ "", "", "", "", "", "", "", "", "", "", "", "", "", "", "", ],
    [ "", "", "", "", "", "", "", "", "", "", "", "", "", "", "", ],
    [ "", "", "", "", "", "", "", "", "", "", "", "", "", "", "", ],
]

class game_validation(unittest.TestCase):
    def test_gamestate(self):
        self.assertEqual(validate_gamestate(testBoard1), "opening")
        self.assertEqual(validate_gamestate(testBoard2), "midgame")
        self.assertEqual(validate_gamestate(testBoard3), "endgame")

if __name__ == "__main__":
    unittest.main()